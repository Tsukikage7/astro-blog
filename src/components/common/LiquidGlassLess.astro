---
import { UI_CONFIG } from "@lib/config";
interface Props {
  containerType?: "div" | "section" | "nav" | "header" | "footer";
  
  containerClass?: string;
  
  wrapperClass?: string;  
  
  textClass?: string;
  
  animation?: "fadeLeft" | "fadeRight" | "fadeUp" | "fadeDown" | "none";
  
  heavy?: boolean;
  
  showContainer?: boolean;
  
  enableGlassEffect?: boolean;

  
  effectClass?: string;
  
  tintClass?: string;
  
  shineClass?: string;
}

const {
  containerType = "div",
  containerClass = "",
  wrapperClass = "dock",
  animation = "fadeUp",
  heavy = false,
  showContainer = true,
  enableGlassEffect = UI_CONFIG.ENABLE_GLASS_EFFECT,
  textClass = "",
  effectClass = "",
  tintClass = "",
  shineClass = "",
} = Astro.props;

const animationClass =
  animation !== "none"
    ? `intersect:animate-${animation} transition-all duration-300 fast-slow`
    : "";

const effectClassStr = enableGlassEffect
  ? (heavy ? "liquidGlass-effect-h " : "liquidGlass-effect ") + effectClass
  : "";
const tintClassStr = enableGlassEffect
  ? (heavy ? "liquidGlass-tint-h " : "liquidGlass-tint ") + tintClass
  : "";
const shineClassStr = enableGlassEffect
  ? `liquidGlass-shine ${shineClass}`
  : "";

const flatWrapperClass = enableGlassEffect
  ? wrapperClass
  : `${wrapperClass} bg-card border border-border shadow-md`;
---

{
  containerType === "section" ? (
    <section class={`liquid-glass-container ${containerClass}`}>
      <div class={`liquidGlass-wrapper ${flatWrapperClass}`}>
        {enableGlassEffect && (
          <div class={`${effectClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${tintClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${shineClassStr} ${animationClass}`} />
        )}
        <div class={`liquidGlass-text ${textClass} ${animationClass}`}>
          <slot />
        </div>
      </div>
    </section>
  ) : containerType === "nav" ? (
    <nav class={`liquid-glass-container ${containerClass}`}>
      <div class={`liquidGlass-wrapper ${flatWrapperClass}`}>
        {enableGlassEffect && (
          <div class={`${effectClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${tintClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${shineClassStr} ${animationClass}`} />
        )}
        <div
          class={`liquidGlass-text drop-shadow-md-white ${textClass} ${animationClass}`}
        >
          <slot />
        </div>
      </div>
    </nav>
  ) : containerType === "header" ? (
    <header class={`liquid-glass-container ${containerClass}`}>
      <div class={`liquidGlass-wrapper ${flatWrapperClass}`}>
        {enableGlassEffect && (
          <div class={`${effectClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${tintClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${shineClassStr} ${animationClass}`} />
        )}
        <div class={`liquidGlass-text ${textClass} ${animationClass}`}>
          <slot />
        </div>
      </div>
    </header>
  ) : containerType === "footer" ? (
    <footer class={`liquid-glass-container ${containerClass}`}>
      <div class={`liquidGlass-wrapper ${flatWrapperClass}`}>
        {enableGlassEffect && (
          <div class={`${effectClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${tintClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${shineClassStr} ${animationClass}`} />
        )}
        <div class={`liquidGlass-text ${textClass} ${animationClass}`}>
          <slot />
        </div>
      </div>
    </footer>
  ) : (
    <div class={`liquid-glass-container ${containerClass}`}>
      <div class={`liquidGlass-wrapper ${flatWrapperClass}`}>
        {enableGlassEffect && (
          <div class={`${effectClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${tintClassStr} ${animationClass}`} />
        )}
        {enableGlassEffect && (
          <div class={`${shineClassStr} ${animationClass}`} />
        )}
        <div class={`liquidGlass-text ${textClass} ${animationClass}`}>
          <slot />
        </div>
      </div>
    </div>
  )
}
